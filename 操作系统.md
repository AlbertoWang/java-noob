[TOC]

# 进程与线程

## 进程与线程的区别

进程是资源分配的最小单位，线程是任务调度与执行的最小单位。

* 进程维护成本高，彼此之间独立，安全性高；

* 线程有独立堆栈空间，但共享数据段，开销小。

## 进程与线程的资源

* 共享资源：

  堆、全局变量、静态变量、文件等公共资源、进程代码段、进程当前所在目录等信息；

* 独享资源：

  栈、线程ID、寄存器组的值、错误返回码、信号屏蔽码

## 进程与线程的选择

* 频繁创建、销毁、切换（并行）的情况下，使用线程；
* 需要稳定安全的情况下，使用进程。

## Linux常用命令

* 搜索进程ID：`ps -ef | grep <进程名>`，`-e`相当于`-a`是全部列出，`-f`是显示UID等（也可以用`ps -aux | grep <进程名>`）；
* 查询文件位置：`find <查询路径> -name <文件名>`
* 任务管理器：`top`，具体查看某个进程的情况：`top -p <pid>`；
* 内存使用情况：`free -m`；
* 统计：`wc`，统计单词个数使用`grep <单词> <文件路径> ｜ wc -o`；
* 修改用户权限：`chmod`；
* 设置进程优先级：`nice -n <优先级，越小优先级越高> bash`（开新bash运行），`renice -n <优先级> -p <进程ID> -u <用户>`（修改进程优先级）；